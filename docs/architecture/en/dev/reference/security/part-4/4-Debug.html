<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta name="description" content=" ">

    <title>
	    AGL Developer Site - 
        
            
                Debug  -
            
        
    </title>

    <link rel="SHORTCUT ICON" href="/favicon.ico"/>

    

    
    

    <link rel="canonical" href="http://docs.automotivelinux.org/docs/architecture/en/dev/reference/security/part-4/4-Debug.html">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/static/styles/main.css">
    <link rel="stylesheet" type="text/css" href="/static/styles/syntax.css">
    <!-- Algolia Search CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />

    <!-- Fonts -->
    <!-- For attribution information, see www/attributions.html -->
    <link href='https://fonts.googleapis.com/css?family=Raleway:700,400,300,700italic,400italic,300italic' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- <script defer type="text/javascript">
        var disqus_developer = ; // this would set it to developer mode
    </script>-->

    <!-- JS -->
    <script defer type="text/javascript" src="/static/js/lib/jquery-2.1.1.min.js"></script>
    <script defer type="text/javascript" src="/static/js/lib/bootstrap.min.js"></script>
<!--    <script defer type="text/javascript" src="/static/js/lib/ZeroClipboard.js"></script>-->

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', '{}', 'auto');
    ga('send', 'pageview');
</script>

</head>

<body>
    <header>
    <a class="scroll-point pt-top" name="top"></a>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="/"><img id="logo_top" src="/static/img/branding/agl_title_793x211.png"/></a>
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <div class="nav_bar_left">
                    <ul class="nav navbar-nav">
                        <li >
                            <a href="/docs/getting_started/en/dev/">Getting Started</a>
                        </li>
                                                
                        <li >
                            <a href="/docs/architecture/en/dev/">Architecture Guides</a>
                        </li>

                        <li >
                            <a href="/docs/hardware/en/dev/">Hardware Support</a>
                        </li>

                        <li >
                            <a href="/docs/devguides/en/dev/">Developer Guides</a>
                        </li>
                        
                        <li >
                            <a href="/docs/apis_services/en/dev/">APIs & Services</a>
                        </li>
					</ul>
				</div>
                <div class="nav_bar_right">
                    <ul class="nav navbar-nav">

                        <li >
                            <a href="/contribute">Contribute</a>
                        </li>
                        <li>
                            <form class="navbar-form navbar-right" id="header-search-form" role="search">
                                <div class="input-group">
                                    
                                    <input id="header-search-field" type="text" placeholder="Search 'dev' docs..." class="form-control hidden-xs" autocomplete="off">
                                </div>
                            </form>
                        </li>
                    </ul>
                </div>
            </div><!--/.navbar-collapse -->
        </div>
    </nav>
    <div id="_fixed_navbar_spacer" style="padding-top:50px"></div>
</header>














<div class="docs container">

    <!-- Table of Contents -->
    <div class="hidden-xs hidden-sm col-md-4 col-lg-3 site-toc-container">
        <ul class="site-toc">
    

    <li>
        
            <span class="toc-section-heading">
                AGL Specifications
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/AGL_Specifications/agl_spec_v1.0_final.pdf">
                Automotive Grade Linux Requirements Specifications
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Security Blueprint
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/README.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-1 Hardware
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-1/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-2 Secure Boot
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-2/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-2/1-Image.html">
                Image
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-2/2-Communication-modes.html">
                Communication modes
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-2/3-Consoles.html">
                Consoles
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-3 Hypervisor
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-3/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-4 Kernel
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-4/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-4/1-General.html">
                General
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-4/2-Memory.html">
                Memory
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-4/3-Consoles.html">
                Consoles
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="this-page" href="/docs/architecture/en/dev/reference/security/part-4/4-Debug.html">
                Debug
            </a>
            
                <span class="entry-highlight"></span>
            
        

        
        <div id="page-toc" class="page-toc"></div>

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-4/5-FileSystems.html">
                File Systems
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-5 Platform
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/1-MAC.html">
                Mandatory Access Control
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/2-SystemD.html">
                SystemD
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/3-SystemBus.html">
                SystemBus
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/4-Services.html">
                System services and daemons
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/5-AppFw.html">
                Application Framework
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/6-Utilities.html">
                Utilities
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/7-Users.html">
                Users
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-6 Application
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-6/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-6/1-Installation.html">
                Installation
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-6/2-PrivilegeManagement.html">
                Privilege management
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-6/3-Signature.html">
                Signature
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-6/4-Services.html">
                Services
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-7 Connectivity
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-7/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-7/1-BusAndConnectors.html">
                Bus and connectors
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-7/2-Wireless.html">
                Wireless
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-7/3-Cloud.html">
                Cloud
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-8 Update
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-8/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-8/1-FOTA.html">
                FOTA
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-8/2-SOTA.html">
                SOTA
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-9 Secure development
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-9/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Annexes
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/annexes/0_Abstract.html">
                Annexes
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/annexes/ConfigNotes.html">
                Config notes
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/annexes/todoNotes.html">
                Todo notes
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    
</ul>

        
    </li>
    
</ul>

    </div>

    <!-- Page content -->
    <div class="col-md-8 col-md-offset-4 col-lg-9 col-lg-offset-3 page-content-container container">
        <div class="page-content row">
            <div class="col-md-offset-1 col-md-10">
                <div class="content-header">

                    <!-- ToC Dropdown (for XS and SM sizes only) -->
                    <div class="toc-dropdown dropdown visible-xs-block visible-sm-block">
                        <button class="btn btn-default dropdown-toggle" type="button" id="tocDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            Table of Contents
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu">
                            






<li>
    <a class="" href="reference/AGL_Specifications/agl_spec_v1.0_final.pdf">
        Automotive Grade Linux Requirements Specifications
    </a>
</li>











<li>
    <a class="" href="reference/security/README.html">
        Introduction
    </a>
</li>








<li>
    <a class="" href="reference/security/part-1/0_Abstract.html">
        Introduction
    </a>
</li>











<li>
    <a class="" href="reference/security/part-2/0_Abstract.html">
        Introduction
    </a>
</li>




<li>
    <a class="" href="reference/security/part-2/1-Image.html">
        Image
    </a>
</li>




<li>
    <a class="" href="reference/security/part-2/2-Communication-modes.html">
        Communication modes
    </a>
</li>




<li>
    <a class="" href="reference/security/part-2/3-Consoles.html">
        Consoles
    </a>
</li>











<li>
    <a class="" href="reference/security/part-3/0_Abstract.html">
        Introduction
    </a>
</li>











<li>
    <a class="" href="reference/security/part-4/0_Abstract.html">
        Introduction
    </a>
</li>




<li>
    <a class="" href="reference/security/part-4/1-General.html">
        General
    </a>
</li>




<li>
    <a class="" href="reference/security/part-4/2-Memory.html">
        Memory
    </a>
</li>




<li>
    <a class="" href="reference/security/part-4/3-Consoles.html">
        Consoles
    </a>
</li>




<li>
    <a class="this-page" href="reference/security/part-4/4-Debug.html">
        Debug
    </a>
</li>




<li>
    <a class="" href="reference/security/part-4/5-FileSystems.html">
        File Systems
    </a>
</li>











<li>
    <a class="" href="reference/security/part-5/0_Abstract.html">
        Introduction
    </a>
</li>




<li>
    <a class="" href="reference/security/part-5/1-MAC.html">
        Mandatory Access Control
    </a>
</li>




<li>
    <a class="" href="reference/security/part-5/2-SystemD.html">
        SystemD
    </a>
</li>




<li>
    <a class="" href="reference/security/part-5/3-SystemBus.html">
        SystemBus
    </a>
</li>




<li>
    <a class="" href="reference/security/part-5/4-Services.html">
        System services and daemons
    </a>
</li>




<li>
    <a class="" href="reference/security/part-5/5-AppFw.html">
        Application Framework
    </a>
</li>




<li>
    <a class="" href="reference/security/part-5/6-Utilities.html">
        Utilities
    </a>
</li>




<li>
    <a class="" href="reference/security/part-5/7-Users.html">
        Users
    </a>
</li>











<li>
    <a class="" href="reference/security/part-6/0_Abstract.html">
        Introduction
    </a>
</li>




<li>
    <a class="" href="reference/security/part-6/1-Installation.html">
        Installation
    </a>
</li>




<li>
    <a class="" href="reference/security/part-6/2-PrivilegeManagement.html">
        Privilege management
    </a>
</li>




<li>
    <a class="" href="reference/security/part-6/3-Signature.html">
        Signature
    </a>
</li>




<li>
    <a class="" href="reference/security/part-6/4-Services.html">
        Services
    </a>
</li>











<li>
    <a class="" href="reference/security/part-7/0_Abstract.html">
        Introduction
    </a>
</li>




<li>
    <a class="" href="reference/security/part-7/1-BusAndConnectors.html">
        Bus and connectors
    </a>
</li>




<li>
    <a class="" href="reference/security/part-7/2-Wireless.html">
        Wireless
    </a>
</li>




<li>
    <a class="" href="reference/security/part-7/3-Cloud.html">
        Cloud
    </a>
</li>











<li>
    <a class="" href="reference/security/part-8/0_Abstract.html">
        Introduction
    </a>
</li>




<li>
    <a class="" href="reference/security/part-8/1-FOTA.html">
        FOTA
    </a>
</li>




<li>
    <a class="" href="reference/security/part-8/2-SOTA.html">
        SOTA
    </a>
</li>











<li>
    <a class="" href="reference/security/part-9/0_Abstract.html">
        Introduction
    </a>
</li>











<li>
    <a class="" href="reference/security/annexes/0_Abstract.html">
        Annexes
    </a>
</li>




<li>
    <a class="" href="reference/security/annexes/ConfigNotes.html">
        Config notes
    </a>
</li>




<li>
    <a class="" href="reference/security/annexes/todoNotes.html">
        Todo notes
    </a>
</li>










                        </ul>
                    </div>

                    <!--
                    
                    
                        <a class="edit" href="https://github.com/automotive-grade-linux/docs-agl/edit/master/docs/security-blueprint/part-4/4-Debug.md"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit</a>

                    
                    
                    -->

                    <!-- Language dropdown -->
                    <!--
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" id="languageDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            
                            <span class="caret"></span>
                        </button>

                        <!-- List all languages - ->
                        <ul class="dropdown-menu" aria-labelledby="languageDropdown">
                            
                        </ul>
                    </div>
                    -->

                    <!-- Version dropdown -->
                    <!--
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" id="versionDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            dev
                            
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="versionDropdown">

                            <!-- List versions available in this language - ->
                            
                        </ul>
                    </div>
                    -->
                </div>
                

                
                
                

                
                

                <!-- Show warnings for special versions -->
                <!-- dev warning
                
                    <div class="alert docs-alert alert-info" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        Draft version of documentation under development may change!
                        <a href="/docs/en/latest/">
                            Click here for the latest released version.
                        </a>
                    </div>
                
                -->

                <!-- outdated warning
                
                -->


                <div id="page-toc-source">
                    <!-- WARNING: This file is generated by fetch_docs.js using /w/workspace/sandbox-doc-update/webdocs-agl/content/tocs/architecture/fetched_files.yml -->

<h1 id="debug">Debug</h1>

<p>No debuggers shall be present on the file system. This includes, but is not limited to, the GNU Debugger client/server (commonly known in their short form names such as the <code class="highlighter-rouge">gdb</code> and <code class="highlighter-rouge">gdbserver</code> executable binaries respectively), the <code class="highlighter-rouge">LLDB</code> next generation debugger or the <code class="highlighter-rouge">TCF</code> (Target Communications Framework) agnostic framework. Including these binaries as part of the file system will facilitate an attacker’s ability to reverse engineer and debug (either locally or remotely) any process that is currently executing on the device.</p>

<h2 id="kernel-debug-symbols">Kernel debug symbols</h2>

<p>Debug symbols should always be removed from production kernels as they provide a lot of information to attackers.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-Debug-Symbols-1</td>
      <td><code class="highlighter-rouge">CONFIG_DEBUG_INFO</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<p>These kernel debug symbols are enabled by other config items in the kernel. Care should be taken to disable those also. If <code class="highlighter-rouge">CONFIG_DEBUG_INFO</code> cannot be disabled, then enabling <code class="highlighter-rouge">CONFIG_DEBUG_INFO_REDUCED</code> is second best.</p>

<!-- section-note -->

<p>At least <code class="highlighter-rouge">CONFIG_DEBUG_INFO_REDUCED</code> should be always enabled for developers to convert addresses in oops messages to line numbers.</p>

<!-- end-section-note -->

<hr />

<h2 id="disable-kprobes">Disable Kprobes</h2>

<p>Kprobes enables you to dynamically break into any kernel routine and collect debugging and performance information non-disruptively. You can trap at almost any kernel code address, specifying a handler routine to be invoked when the breakpoint is hit.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-Debug-Kprobes-1</td>
      <td><code class="highlighter-rouge">CONFIG_KPROBES</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<h2 id="disable-tracing">Disable Tracing</h2>

<p>FTrace enables the kernel to trace every kernel function. Providing kernel trace functionality would assist an attacker in discovering attack vectors.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-Debug-Tracing-1</td>
      <td><code class="highlighter-rouge">CONFIG_FTRACE</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<h2 id="disable-profiling">Disable Profiling</h2>

<p>Profiling and OProfile enables profiling the whole system, include the kernel, kernel modules, libraries, and applications. Providing profiling functionality would assist an attacker in discovering attack vectors.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-Debug-Profiling-1</td>
      <td><code class="highlighter-rouge">CONFIG_OPROFILE</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
    <tr>
      <td>Kernel-Debug-Profiling-2</td>
      <td><code class="highlighter-rouge">CONFIG_PROFILING</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<h2 id="disable-oops-print-on-bug">Disable OOPS print on BUG()</h2>

<p>The output from OOPS print can be helpful in Return Oriented Programming (ROP) when trying to determine the effectiveness of an exploit.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-Debug-OOPSOnBUG-1</td>
      <td><code class="highlighter-rouge">CONFIG_DEBUG_BUGVERBOSE</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<h2 id="disable-kernel-debugging">Disable Kernel Debugging</h2>

<p>There are development-only branches of code in the kernel enabled by the <code class="highlighter-rouge">DEBUG_KERNEL</code> conf. This should be disabled to compile-out these branches.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-Debug-Dev-1</td>
      <td><code class="highlighter-rouge">CONFIG_DEBUG_KERNEL</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
    <tr>
      <td>Kernel-Debug-Dev-2</td>
      <td><code class="highlighter-rouge">CONFIG_EMBEDDED</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<p>In some kernel versions, disabling this requires also disabling <code class="highlighter-rouge">CONFIG_EMBEDDED</code>, and <code class="highlighter-rouge">CONFIG_EXPERT</code>. Disabling <code class="highlighter-rouge">CONFIG_EXPERT</code> makes it impossible to disable <code class="highlighter-rouge">COREDUMP</code>, <code class="highlighter-rouge">DEBUG_BUGVERBOSE</code>, <code class="highlighter-rouge">NAMESPACES</code>, <code class="highlighter-rouge">KALLSYMS</code> and <code class="highlighter-rouge">BUG</code>. In which case it is better to leave this enabled than enable the others.</p>

<hr />

<!-- pagebreak -->

<h2 id="disable-the-kernel-debug-filesystem">Disable the kernel debug filesystem</h2>

<p>The kernel debug filesystem presents a lot of useful information and means of manipulation of the kernel to an attacker.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-Debug-FileSystem-1</td>
      <td><code class="highlighter-rouge">CONFIG_DEBUG_FS</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<h2 id="disable-bug-support">Disable BUG() support</h2>

<p>The kernel will display backtrace and register information for BUGs and WARNs in kernel space, making it easier for attackers to develop exploits.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-Debug-BUG-1</td>
      <td><code class="highlighter-rouge">CONFIG_BUG</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<h2 id="disable-core-dumps">Disable core dumps</h2>

<p>Core dumps provide a lot of debug information for hackers. So disabling core dumps are recommended in production builds.</p>

<p>This configuration is supported in <strong>Linux 3.7 and greater</strong> and thus should only be disabled for such versions.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-Debug-CoreDumps-1</td>
      <td><code class="highlighter-rouge">CONFIG_COREDUMP</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<!-- pagebreak -->

<h2 id="kernel-address-display-restriction">Kernel Address Display Restriction</h2>

<p>When attackers try to develop “run anywhere” exploits for kernel vulnerabilities, they frequently need to know the location of internal kernel structures. By treating kernel addresses as sensitive information, those locations are not visible to regular local users.</p>

<p><strong>/proc/sys/kernel/kptr_restrict is set to “1”</strong> to block the reporting of known kernel address leaks.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">File</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-Debug-AdressDisplay-1</td>
      <td><code class="highlighter-rouge">/proc/sys/kernel/kptr_restrict</code></td>
      <td><code class="highlighter-rouge">1</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<p>Additionally, various files and directories should be readable only by the root user: <code class="highlighter-rouge">/boot/vmlinuz*</code>, <code class="highlighter-rouge">/boot/System.map*</code>, <code class="highlighter-rouge">/sys/kernel/debug/</code>, <code class="highlighter-rouge">/proc/slabinfo</code></p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">File</code> or <code class="highlighter-rouge">Directorie</code> name</th>
      <th><em>State</em></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-Debug-AdressDisplay-1</td>
      <td><code class="highlighter-rouge">/boot/vmlinuz*</code></td>
      <td><em>Readable Only for root user</em></td>
    </tr>
    <tr>
      <td>Kernel-Debug-AdressDisplay-2</td>
      <td><code class="highlighter-rouge">/boot/System.map*</code></td>
      <td><em>Readable Only for root user</em></td>
    </tr>
    <tr>
      <td>Kernel-Debug-AdressDisplay-3</td>
      <td><code class="highlighter-rouge">/sys/kernel/debug/</code></td>
      <td><em>Readable Only for root user</em></td>
    </tr>
    <tr>
      <td>Kernel-Debug-AdressDisplay-4</td>
      <td><code class="highlighter-rouge">/proc/slabinfo</code></td>
      <td><em>Readable Only for root user</em></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<h2 id="dmesg-restrictions">DMESG Restrictions</h2>

<p>When attackers try to develop “run anywhere” exploits for vulnerabilities, they frequently will use <code class="highlighter-rouge">dmesg</code> output. By treating <code class="highlighter-rouge">dmesg</code> output as sensitive information, this output is not available to the attacker.</p>

<p><strong>/proc/sys/kernel/dmesg_restrict can be set to “1”</strong> to treat dmesg output as sensitive.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">File</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-Debug-DMESG-1</td>
      <td><code class="highlighter-rouge">/proc/sys/kernel/dmesg_restrict</code></td>
      <td><code class="highlighter-rouge">1</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<p>Enable the below compiler and linker options when building user-space applications to avoid stack smashing, buffer overflow attacks.</p>

<hr />

<!-- pagebreak -->

<h2 id="disable-procconfiggz">Disable /proc/config.gz</h2>

<p>It is extremely important to not expose the kernel configuration used on a production device to a potential attacker. With access to the kernel config, it could be possible for an attacker to build a custom kernel for the device that may disable critical security features.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-Debug-Config-1</td>
      <td><code class="highlighter-rouge">CONFIG_IKCONFIG</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->



                </div>
            </div>
        </div>
        <div class="row">
            <div class="blue-divider"></div>
<footer>
    <div class="container-fluid">
        <div class="row">
    <div class="col-sm-9">
        <h1>More Resources</h1>
        <div class="row">
            <div class="col-sm-4">
                <h2>General</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://www.automotivelinux.org/">AGL Developer Community</a>
                    </li>
                    <li>
                        <a href="https://www.automotivelinux.org/software/download/">Download Distribution</a>
                    </li>
                    <li>
                        <a href="https://gerrit.automotivelinux.org/gerrit/#/admin/projects/">Source Code on Git</a>
                    </li>
                    <li>
                        <a target="_blank" href="/contact">Mailing List</a>
                    </li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Development</h2>
                <ul class="nav">
                    <li><a target="_blank" href="https://wiki.automotivelinux.org/agl-distro/source-code">Source Code</a></li>
                    <li><a target="_blank" href="https://jira.automotivelinux.org/browse/SPEC/?selectedTab=com.atlassian.jira.jira-projects-plugin:summary-panel">Issue Tracker</a></li>
                    <li><a target="_blank" href="https://wiki.automotivelinux.org/">Wiki</a></li>
                    <li><a href="https://www.automotivelinux.org/contact-us">Contact</a></li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Automotive Grade Linux @ Linux Foundation</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://www.automotivelinux.org/">About AGL</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.linuxfoundation.org/">About Linux Foundation</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://wiki.automotivelinux.org/start/getting-started">Join AGL community</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.automotivelinux.org/about/members">Members</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-sm-3">
        <h1>Contribute</h1>
        <p style="padding-top:20px"><strong>Help AGL move forward!</strong></p>
        <p>Report bugs, improve the docs, or contribute to the code.</p>
        <a href="/contribute" class="btn btn-lg btn-primary">
            Learn More
        </a>
        <p style="padding-top:20px"> <a href="https://twitter.com/autogradelinux" class="twitter-follow-button" data-show-count="false">Follow @autogradelinux</a></p>
    </div>
</div>
<div class="row">
	<div class="col-sm-9">
		<p class="copyright_text">
			Copyright &copy; 2015-2018 Automotive Grade Linux Documentation, Licensed under the <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.
			<br/>
			Automotive Grade Linux and logos are <a target="_blank" href="http://www.linuxfoundation.org">trademarks</a> of The Linux Foundation.
			<br/>
			Initial site design from <a href="https://cordova.apache.org/">Cordova website.</a> - warm thanks !
		</p>
	</div>
    <div class="col-sm-3">
		<small class="stats">Page rendered at:  2019-02-17 00:03:56 +0000</small>
		
		<br/><small class="stats"><a href="https://raw.githubusercontent.com/automotive-grade-linux/docs-agl/master/docs/security-blueprint/part-4/4-Debug.md">Link to source document</small>
		
	</div>
</div>

    </div>
</footer>

        </div>
    </div>
</div>

<script defer type="text/javascript" src="/static/js/lib/toc.min.js"></script>
<script defer type="text/javascript" src="/static/js/docs.js"></script>

    <script defer type="text/javascript" src="/static/js/twitter.js"></script>
    



<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'edd30bcff9f6df4b095c41cba3e5a418',
        indexName: 'automotivelinux',
        inputSelector: '#header-search-field',
    });
</script>

            
    

</body>
</html>
