<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta name="description" content=" ">

    <title>
	    AGL Developer Site - 
        
            
                General  -
            
        
    </title>

    <link rel="SHORTCUT ICON" href="/favicon.ico"/>

    

    
    

    <link rel="canonical" href="http://docs.automotivelinux.org/docs/architecture/en/dev/reference/security/part-4/1-General.html">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/static/styles/main.css">
    <link rel="stylesheet" type="text/css" href="/static/styles/syntax.css">
    <!-- Algolia Search CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />

    <!-- Fonts -->
    <!-- For attribution information, see www/attributions.html -->
    <link href='https://fonts.googleapis.com/css?family=Raleway:700,400,300,700italic,400italic,300italic' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- <script defer type="text/javascript">
        var disqus_developer = ; // this would set it to developer mode
    </script>-->

    <!-- JS -->
    <script defer type="text/javascript" src="/static/js/lib/jquery-2.1.1.min.js"></script>
    <script defer type="text/javascript" src="/static/js/lib/bootstrap.min.js"></script>
<!--    <script defer type="text/javascript" src="/static/js/lib/ZeroClipboard.js"></script>-->

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', '{}', 'auto');
    ga('send', 'pageview');
</script>

</head>

<body>
    <header>
    <a class="scroll-point pt-top" name="top"></a>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="/"><img id="logo_top" src="/static/img/branding/agl_title_793x211.png"/></a>
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <div class="nav_bar_left">
                    <ul class="nav navbar-nav">
                        <li >
                            <a href="/docs/getting_started/en/dev/">Getting Started</a>
                        </li>
                                                
                        <li >
                            <a href="/docs/architecture/en/dev/">Architecture Guides</a>
                        </li>

                        <li >
                            <a href="/docs/hardware/en/dev/">Hardware Support</a>
                        </li>

                        <li >
                            <a href="/docs/devguides/en/dev/">Developer Guides</a>
                        </li>
                        
                        <li >
                            <a href="/docs/apis_services/en/dev/">APIs & Services</a>
                        </li>
					</ul>
				</div>
                <div class="nav_bar_right">
                    <ul class="nav navbar-nav">

                        <li >
                            <a href="/contribute">Contribute</a>
                        </li>
                        <li>
                            <form class="navbar-form navbar-right" id="header-search-form" role="search">
                                <div class="input-group">
                                    
                                    <input id="header-search-field" type="text" placeholder="Search 'dev' docs..." class="form-control hidden-xs" autocomplete="off">
                                </div>
                            </form>
                        </li>
                    </ul>
                </div>
            </div><!--/.navbar-collapse -->
        </div>
    </nav>
    <div id="_fixed_navbar_spacer" style="padding-top:50px"></div>
</header>














<div class="docs container">

    <!-- Table of Contents -->
    <div class="hidden-xs hidden-sm col-md-4 col-lg-3 site-toc-container">
        <ul class="site-toc">
    

    <li>
        
            <span class="toc-section-heading">
                AGL Specifications
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/AGL_Specifications/agl_spec_v1.0_final.pdf">
                Automotive Grade Linux Requirements Specifications
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Security Blueprint
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/README.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-1 Hardware
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-1/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-2 Secure Boot
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-2/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-2/1-Image.html">
                Image
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-2/2-Communication-modes.html">
                Communication modes
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-2/3-Consoles.html">
                Consoles
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-3 Hypervisor
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-3/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-4 Kernel
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-4/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="this-page" href="/docs/architecture/en/dev/reference/security/part-4/1-General.html">
                General
            </a>
            
                <span class="entry-highlight"></span>
            
        

        
        <div id="page-toc" class="page-toc"></div>

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-4/2-Memory.html">
                Memory
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-4/3-Consoles.html">
                Consoles
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-4/4-Debug.html">
                Debug
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-4/5-FileSystems.html">
                File Systems
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-5 Platform
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/1-MAC.html">
                Mandatory Access Control
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/2-SystemD.html">
                SystemD
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/3-SystemBus.html">
                SystemBus
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/4-Services.html">
                System services and daemons
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/5-AppFw.html">
                Application Framework
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/6-Utilities.html">
                Utilities
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-5/7-Users.html">
                Users
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-6 Application
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-6/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-6/1-Installation.html">
                Installation
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-6/2-PrivilegeManagement.html">
                Privilege management
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-6/3-Signature.html">
                Signature
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-6/4-Services.html">
                Services
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-7 Connectivity
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-7/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-7/1-BusAndConnectors.html">
                Bus and connectors
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-7/2-Wireless.html">
                Wireless
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-7/3-Cloud.html">
                Cloud
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-8 Update
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-8/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-8/1-FOTA.html">
                FOTA
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-8/2-SOTA.html">
                SOTA
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Part-9 Secure development
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/part-9/0_Abstract.html">
                Introduction
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Annexes
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/annexes/0_Abstract.html">
                Annexes
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/annexes/ConfigNotes.html">
                Config notes
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/docs/architecture/en/dev/reference/security/annexes/todoNotes.html">
                Todo notes
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    
</ul>

        
    </li>
    
</ul>

    </div>

    <!-- Page content -->
    <div class="col-md-8 col-md-offset-4 col-lg-9 col-lg-offset-3 page-content-container container">
        <div class="page-content row">
            <div class="col-md-offset-1 col-md-10">
                <div class="content-header">

                    <!-- ToC Dropdown (for XS and SM sizes only) -->
                    <div class="toc-dropdown dropdown visible-xs-block visible-sm-block">
                        <button class="btn btn-default dropdown-toggle" type="button" id="tocDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            Table of Contents
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu">
                            






<li>
    <a class="" href="reference/AGL_Specifications/agl_spec_v1.0_final.pdf">
        Automotive Grade Linux Requirements Specifications
    </a>
</li>











<li>
    <a class="" href="reference/security/README.html">
        Introduction
    </a>
</li>








<li>
    <a class="" href="reference/security/part-1/0_Abstract.html">
        Introduction
    </a>
</li>











<li>
    <a class="" href="reference/security/part-2/0_Abstract.html">
        Introduction
    </a>
</li>




<li>
    <a class="" href="reference/security/part-2/1-Image.html">
        Image
    </a>
</li>




<li>
    <a class="" href="reference/security/part-2/2-Communication-modes.html">
        Communication modes
    </a>
</li>




<li>
    <a class="" href="reference/security/part-2/3-Consoles.html">
        Consoles
    </a>
</li>











<li>
    <a class="" href="reference/security/part-3/0_Abstract.html">
        Introduction
    </a>
</li>











<li>
    <a class="" href="reference/security/part-4/0_Abstract.html">
        Introduction
    </a>
</li>




<li>
    <a class="this-page" href="reference/security/part-4/1-General.html">
        General
    </a>
</li>




<li>
    <a class="" href="reference/security/part-4/2-Memory.html">
        Memory
    </a>
</li>




<li>
    <a class="" href="reference/security/part-4/3-Consoles.html">
        Consoles
    </a>
</li>




<li>
    <a class="" href="reference/security/part-4/4-Debug.html">
        Debug
    </a>
</li>




<li>
    <a class="" href="reference/security/part-4/5-FileSystems.html">
        File Systems
    </a>
</li>











<li>
    <a class="" href="reference/security/part-5/0_Abstract.html">
        Introduction
    </a>
</li>




<li>
    <a class="" href="reference/security/part-5/1-MAC.html">
        Mandatory Access Control
    </a>
</li>




<li>
    <a class="" href="reference/security/part-5/2-SystemD.html">
        SystemD
    </a>
</li>




<li>
    <a class="" href="reference/security/part-5/3-SystemBus.html">
        SystemBus
    </a>
</li>




<li>
    <a class="" href="reference/security/part-5/4-Services.html">
        System services and daemons
    </a>
</li>




<li>
    <a class="" href="reference/security/part-5/5-AppFw.html">
        Application Framework
    </a>
</li>




<li>
    <a class="" href="reference/security/part-5/6-Utilities.html">
        Utilities
    </a>
</li>




<li>
    <a class="" href="reference/security/part-5/7-Users.html">
        Users
    </a>
</li>











<li>
    <a class="" href="reference/security/part-6/0_Abstract.html">
        Introduction
    </a>
</li>




<li>
    <a class="" href="reference/security/part-6/1-Installation.html">
        Installation
    </a>
</li>




<li>
    <a class="" href="reference/security/part-6/2-PrivilegeManagement.html">
        Privilege management
    </a>
</li>




<li>
    <a class="" href="reference/security/part-6/3-Signature.html">
        Signature
    </a>
</li>




<li>
    <a class="" href="reference/security/part-6/4-Services.html">
        Services
    </a>
</li>











<li>
    <a class="" href="reference/security/part-7/0_Abstract.html">
        Introduction
    </a>
</li>




<li>
    <a class="" href="reference/security/part-7/1-BusAndConnectors.html">
        Bus and connectors
    </a>
</li>




<li>
    <a class="" href="reference/security/part-7/2-Wireless.html">
        Wireless
    </a>
</li>




<li>
    <a class="" href="reference/security/part-7/3-Cloud.html">
        Cloud
    </a>
</li>











<li>
    <a class="" href="reference/security/part-8/0_Abstract.html">
        Introduction
    </a>
</li>




<li>
    <a class="" href="reference/security/part-8/1-FOTA.html">
        FOTA
    </a>
</li>




<li>
    <a class="" href="reference/security/part-8/2-SOTA.html">
        SOTA
    </a>
</li>











<li>
    <a class="" href="reference/security/part-9/0_Abstract.html">
        Introduction
    </a>
</li>











<li>
    <a class="" href="reference/security/annexes/0_Abstract.html">
        Annexes
    </a>
</li>




<li>
    <a class="" href="reference/security/annexes/ConfigNotes.html">
        Config notes
    </a>
</li>




<li>
    <a class="" href="reference/security/annexes/todoNotes.html">
        Todo notes
    </a>
</li>










                        </ul>
                    </div>

                    <!--
                    
                    
                        <a class="edit" href="https://github.com/automotive-grade-linux/docs-agl/edit/master/docs/security-blueprint/part-4/1-General.md"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit</a>

                    
                    
                    -->

                    <!-- Language dropdown -->
                    <!--
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" id="languageDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            
                            <span class="caret"></span>
                        </button>

                        <!-- List all languages - ->
                        <ul class="dropdown-menu" aria-labelledby="languageDropdown">
                            
                        </ul>
                    </div>
                    -->

                    <!-- Version dropdown -->
                    <!--
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" id="versionDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            dev
                            
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="versionDropdown">

                            <!-- List versions available in this language - ->
                            
                        </ul>
                    </div>
                    -->
                </div>
                

                
                
                

                
                

                <!-- Show warnings for special versions -->
                <!-- dev warning
                
                    <div class="alert docs-alert alert-info" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        Draft version of documentation under development may change!
                        <a href="/docs/en/latest/">
                            Click here for the latest released version.
                        </a>
                    </div>
                
                -->

                <!-- outdated warning
                
                -->


                <div id="page-toc-source">
                    <!-- WARNING: This file is generated by fetch_docs.js using /w/workspace/sandbox-doc-update/webdocs-agl/content/tocs/architecture/fetched_files.yml -->

<h1 id="general-configuration">General configuration</h1>

<h2 id="mandatory-access-control">Mandatory Access Control</h2>

<p>Kernel should controls access with labels and policy.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-MAC-1</td>
      <td>CONFIG_IP_NF_SECURITY</td>
      <td>m</td>
    </tr>
    <tr>
      <td>Kernel-General-MAC-2</td>
      <td>CONFIG_IP6_NF_SECURITY</td>
      <td>m</td>
    </tr>
    <tr>
      <td>Kernel-General-MAC-3</td>
      <td>CONFIG_EXT2_FS_SECURITY</td>
      <td>y</td>
    </tr>
    <tr>
      <td>Kernel-General-MAC-4</td>
      <td>CONFIG_EXT3_FS_SECURITY</td>
      <td>y</td>
    </tr>
    <tr>
      <td>Kernel-General-MAC-5</td>
      <td>CONFIG_EXT4_FS_SECURITY</td>
      <td>y</td>
    </tr>
    <tr>
      <td>Kernel-General-MAC-6</td>
      <td>CONFIG_SECURITY</td>
      <td>y</td>
    </tr>
    <tr>
      <td>Kernel-General-MAC-7</td>
      <td>CONFIG_SECURITY_SMACK</td>
      <td>y</td>
    </tr>
    <tr>
      <td>Kernel-General-MAC-8</td>
      <td>CONFIG_TMPFS_XATTR</td>
      <td>y</td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<p>Please also refer to the <a href="../part-5/1-MAC.html"><strong>Mandatory Access Control</strong> documentation in Platform</a> part.
You can also find useful documentation and links on wikipedia about <a href="https://en.wikipedia.org/wiki/Mandatory_access_control"><strong>MAC</strong></a>
and about <a href="https://en.wikipedia.org/wiki/Simplified_Mandatory_Access_Control_Kernel"><strong>SMACK</strong></a>.</p>

<hr />

<h2 id="disable-kexec">Disable kexec</h2>

<p><strong>Kexec</strong> is a system call that enables you to load and boot into another kernel from the currently running kernel. This feature is not required in a production environment.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-kexec-1</td>
      <td><code class="highlighter-rouge">CONFIG_KEXEC</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<!-- section-note -->

<p><strong>kexec</strong> can load arbitrary kernels but signing of new kernel can be enforced like it is can be enforced for new modules.</p>

<!-- end-section-note -->

<hr />

<h2 id="disable-kernel-ip-auto-configuration">Disable kernel IP auto-configuration</h2>

<p>It is preferable to have an IP configuration performed using a user-space tool as these tend to have more validation. We do not want the network interface coming up until the system has come up properly.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-IPAutoConf-1</td>
      <td><code class="highlighter-rouge">CONFIG_IP_PNP</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<h2 id="disable-sysctl-syscall-support">Disable Sysctl syscall support</h2>

<p>Enabling this will result in code being included that is hard to maintain and not well tested.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-SysCtl_SysCall-1</td>
      <td><code class="highlighter-rouge">CONFIG_SYSCTL_SYSCALL</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<h2 id="disable-legacy-linux-support">Disable Legacy Linux Support</h2>

<p>There are some Kernel Configs which are present only to support legacy binaries. See also “Consoles” part in order to disabling support for legacy binary formats. The <code class="highlighter-rouge">uselib</code> system call, in particular, has no valid use in any <code class="highlighter-rouge">libc6</code> or <code class="highlighter-rouge">uclibc</code> system in recent times. This configuration is supported in <strong>Linux 3.15 and greater</strong> and thus should only be disabled for such versions.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-LegacyLinux-1</td>
      <td><code class="highlighter-rouge">CONFIG_USELIB</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<h2 id="disable-firmware-auto-loading-user-mode-helper">Disable firmware auto-loading user mode helper</h2>

<p>The firmware auto loading helper, which is a utility executed by the kernel on <code class="highlighter-rouge">hotplug</code> events requiring firmware, can to be set <code class="highlighter-rouge">setuid</code>. As a result of this, the helper utility is an attractive target for attackers with control of physical ports on the device. Disabling this configuration that is supported in <strong>Linux 3.9 and greater</strong>.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-FirmHelper-1</td>
      <td><code class="highlighter-rouge">CONFIG_FW_LOADER_USER_HELPER</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<!-- section-note -->

<p>It doesn’t strictly need to be <code class="highlighter-rouge">setuid</code>, there is an option of shipping firmware builtin into kernel without initrd/filesystem.</p>

<!-- end-section-note -->

<hr />

<h2 id="enable-kernel-panic-on-oops">Enable Kernel Panic on OOPS</h2>

<p>When fuzzing the kernel or attempting kernel exploits attackers are likely to trigger kernel OOPSes. Setting the behavior on OOPS to PANIC can impede their progress.</p>

<p>This configuration is supported in <strong>Linux 3.5 and greater</strong> and thus should only be enabled for such versions.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-PanicOnOOPS-1</td>
      <td><code class="highlighter-rouge">CONFIG_PANIC_ON_OOPS</code></td>
      <td><code class="highlighter-rouge">y</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<!-- pagebreak -->

<h2 id="disable-socket-monitoring-interface">Disable socket monitoring interface</h2>

<p>These monitors can be used to inspect shared file descriptors on Unix Domain sockets or traffic on ‘localhost’ which is otherwise assumed to be confidential.</p>

<p>The <code class="highlighter-rouge">CONFIG_PACKET_DIAG</code> configuration is supported in <strong>Linux 3.7 and greater</strong> and thus should only be disabled for such versions.</p>

<p>The <code class="highlighter-rouge">CONFIG_UNIX_DIAG</code> configuration is supported in <strong>Linux 3.3 and greater</strong> and thus should only be disabled for such versions.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-SocketMon-1</td>
      <td><code class="highlighter-rouge">CONFIG_PACKET_DIAG</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
    <tr>
      <td>Kernel-General-SocketMon-2</td>
      <td><code class="highlighter-rouge">CONFIG_UNIX_DIAG</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<h2 id="disable-bpf-jit">Disable BPF JIT</h2>

<p>The BPF JIT can be used to create kernel-payloads from firewall table rules.</p>

<p>This configuration for is supported in <strong>Linux 3.16 and greater</strong> and thus should only be disabled for such versions.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-BPF_JIT-1</td>
      <td><code class="highlighter-rouge">CONFIG_BPF_JIT</code></td>
      <td><code class="highlighter-rouge">n</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<h2 id="enable-enforced-module-signing">Enable Enforced Module Signing</h2>

<p>The kernel should never allow an unprivileged user the ability to load specific kernel modules,
since that would provide a facility to unexpectedly extend the available attack surface.</p>

<p>To protect against even privileged users, systems may need to either disable
module loading entirely, or provide signed modules
(e.g. <code class="highlighter-rouge">CONFIG_MODULE_SIG_FORCE</code>, or dm-crypt with LoadPin), to keep from having
root load arbitrary kernel code via the module loader interface.</p>

<p>This configuration is supported in <strong>Linux 3.7 and greater</strong> and thus should only be enabled for such versions.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Config</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-ModuleSigning-1</td>
      <td><code class="highlighter-rouge">CONFIG_MODULE_SIG_FORCE</code></td>
      <td><code class="highlighter-rouge">y</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<p>It is also possible to block the loading of modules after startup with “kernel.modules_disabled”.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">Variable</code> name</th>
      <th><code class="highlighter-rouge">Value</code></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-ModuleSigning-2</td>
      <td><code class="highlighter-rouge">kernel.modules_disabled</code></td>
      <td><code class="highlighter-rouge">1</code></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<!-- pagebreak -->

<h2 id="disable-all-usb-pcmcia-and-other-hotplug-bus-drivers-that-arent-needed">Disable all USB, PCMCIA (and other <code class="highlighter-rouge">hotplug</code> bus) drivers that aren’t needed</h2>

<p>To reduce the attack surface, the driver enumeration, probe, and operation happen in the kernel. The driver data is parsed by the kernel, so any logic bugs in these drivers can become kernel exploits.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th>Object</th>
      <th><em>State</em></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-Drivers-1</td>
      <td><code class="highlighter-rouge">USB</code></td>
      <td><em>Disabled</em></td>
    </tr>
    <tr>
      <td>Kernel-General-Drivers-2</td>
      <td><code class="highlighter-rouge">PCMCIA</code></td>
      <td><em>Disabled</em></td>
    </tr>
    <tr>
      <td>Kernel-General-Drivers-3</td>
      <td>Other <code class="highlighter-rouge">hotplug</code> bus</td>
      <td><em>Disabled</em></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<hr />

<h2 id="position-independent-executables">Position Independent Executables</h2>

<!-- section-todo -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th>Improvement</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-IndependentExec-1</td>
      <td>Kernel or/and platform part ?</td>
    </tr>
  </tbody>
</table>

<!-- end-section-todo -->

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">compiler</code> and <code class="highlighter-rouge">linker</code> options</th>
      <th><em>State</em></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-IndependentExec-1</td>
      <td><code class="highlighter-rouge">-pie -fpic</code></td>
      <td><em>Enable</em></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<p>Produce a position independent executable on targets which supports it.</p>

<hr />

<h2 id="prevent-overwrite-attacks">Prevent Overwrite Attacks</h2>

<p><code class="highlighter-rouge">-z,relro</code> linking option helps during program load, several ELF memory sections need to be written by the linker, but can be turned read-only before turning over control to the program. This prevents some Global Offset Table GOT overwrite attacks, or in the dtors section of the ELF binary.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th><code class="highlighter-rouge">compiler</code> and <code class="highlighter-rouge">linker</code> options</th>
      <th><em>State</em></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-OverwriteAttacks-1</td>
      <td><code class="highlighter-rouge">-z,relro</code></td>
      <td><em>Enable</em></td>
    </tr>
    <tr>
      <td>Kernel-General-OverwriteAttacks-2</td>
      <td><code class="highlighter-rouge">-z,now</code></td>
      <td><em>Enable</em></td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<p>During program load, all dynamic symbols are resolved, allowing for the complete GOT to be marked read-only (due to <code class="highlighter-rouge">-z relro</code> above). This prevents GOT overwrite attacks. For very large application, this can incur some performance loss during initial load while symbols are resolved, but this shouldn’t be an issue for daemons.</p>

<hr />

<!-- pagebreak -->

<h2 id="library-linking">Library linking</h2>

<!-- section-todo -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th>Improvement</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-LibraryLinking-1</td>
      <td>Keep this part?</td>
    </tr>
  </tbody>
</table>

<!-- end-section-todo -->

<p>It is recommended that dynamic linking should generally not be allowed. This will avoid the user from replacing a library with malicious library.</p>

<!-- section-config -->

<table>
  <thead>
    <tr>
      <th>Domain</th>
      <th>Object</th>
      <th>Recommendations</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Kernel-General-LibraryLinking-1</td>
      <td>Dynamic linking</td>
      <td>Should generally not be allowed.</td>
    </tr>
  </tbody>
</table>

<!-- end-section-config -->

<!-- section-note -->

<p>Linking everything statically doesn’t change anything wrt security as binaries will live under same user:group as libraries and setuid executables ignore <code class="highlighter-rouge">LD_PRELOAD/LD_LIBRARY_PATH</code>. It also increases RSS footprint and creates problems with upgrading.</p>

<!-- end-section-note -->



                </div>
            </div>
        </div>
        <div class="row">
            <div class="blue-divider"></div>
<footer>
    <div class="container-fluid">
        <div class="row">
    <div class="col-sm-9">
        <h1>More Resources</h1>
        <div class="row">
            <div class="col-sm-4">
                <h2>General</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://www.automotivelinux.org/">AGL Developer Community</a>
                    </li>
                    <li>
                        <a href="https://www.automotivelinux.org/software/download/">Download Distribution</a>
                    </li>
                    <li>
                        <a href="https://gerrit.automotivelinux.org/gerrit/#/admin/projects/">Source Code on Git</a>
                    </li>
                    <li>
                        <a target="_blank" href="/contact">Mailing List</a>
                    </li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Development</h2>
                <ul class="nav">
                    <li><a target="_blank" href="https://wiki.automotivelinux.org/agl-distro/source-code">Source Code</a></li>
                    <li><a target="_blank" href="https://jira.automotivelinux.org/browse/SPEC/?selectedTab=com.atlassian.jira.jira-projects-plugin:summary-panel">Issue Tracker</a></li>
                    <li><a target="_blank" href="https://wiki.automotivelinux.org/">Wiki</a></li>
                    <li><a href="https://www.automotivelinux.org/contact-us">Contact</a></li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Automotive Grade Linux @ Linux Foundation</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://www.automotivelinux.org/">About AGL</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.linuxfoundation.org/">About Linux Foundation</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://wiki.automotivelinux.org/start/getting-started">Join AGL community</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.automotivelinux.org/about/members">Members</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-sm-3">
        <h1>Contribute</h1>
        <p style="padding-top:20px"><strong>Help AGL move forward!</strong></p>
        <p>Report bugs, improve the docs, or contribute to the code.</p>
        <a href="/contribute" class="btn btn-lg btn-primary">
            Learn More
        </a>
        <p style="padding-top:20px"> <a href="https://twitter.com/autogradelinux" class="twitter-follow-button" data-show-count="false">Follow @autogradelinux</a></p>
    </div>
</div>
<div class="row">
	<div class="col-sm-9">
		<p class="copyright_text">
			Copyright &copy; 2015-2018 Automotive Grade Linux Documentation, Licensed under the <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.
			<br/>
			Automotive Grade Linux and logos are <a target="_blank" href="http://www.linuxfoundation.org">trademarks</a> of The Linux Foundation.
			<br/>
			Initial site design from <a href="https://cordova.apache.org/">Cordova website.</a> - warm thanks !
		</p>
	</div>
    <div class="col-sm-3">
		<small class="stats">Page rendered at:  2018-12-18 00:04:45 +0000</small>
		
		<br/><small class="stats"><a href="https://raw.githubusercontent.com/automotive-grade-linux/docs-agl/master/docs/security-blueprint/part-4/1-General.md">Link to source document</small>
		
	</div>
</div>

    </div>
</footer>

        </div>
    </div>
</div>

<script defer type="text/javascript" src="/static/js/lib/toc.min.js"></script>
<script defer type="text/javascript" src="/static/js/docs.js"></script>

    <script defer type="text/javascript" src="/static/js/twitter.js"></script>
    



<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'edd30bcff9f6df4b095c41cba3e5a418',
        indexName: 'automotivelinux',
        inputSelector: '#header-search-field',
    });
</script>

            
    

</body>
</html>
